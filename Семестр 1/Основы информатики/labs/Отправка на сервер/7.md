% Лабораторная работа № 7. Оболочка и скрипты
% 16 января 2023 г.
% Алексей Лисов, ИУ9-11Б

# Цель работы
Получение навыков написания сценариев на «скриптовых» языках.

# Задание 2
```bash

#!/usr/bin/env bash
 
count() {
    grep -cv '^$' "$1"
}
 
paths=( "$@" )
[ "${paths[*]}" ] || paths="."
 
programs=$(find "${paths[@]}" -name '*.c' -o -name '*.h')
[ ! "$programs" ] && echo "C source files not found in $paths" 1>&2 && exit 1
 
ans=0
while read -r file; do
    echo "$file"
    (( ans += $(count "$file") ))
done <<< "$programs"
echo "$ans"

```

# Задание 3

Данная программа может использоваться для:
* для генерации паролей
    + обычный генератор паролей
    + генератор паролей для брутфорса
* если сделать генерацию строк чуть "умнее", то можно использовать например для
    + генерация рандомных имен
    + генерация номеров телефонов, номеров банковских карт
    + генерация тестов для проверки задач на строки

## Реализация

Файл `hello.py`:

```python
import sys, string, random

def string_generation():
    return ''.join(random.choice(string.ascii_letters + string.digits + string.punctuation) 
            for i in range(int(sys.argv[1])))

if __name__ == "__main__":
    if (len(sys.argv) - 1) < 2 or len(sys.argv) > 3:
        print(f'Please, call me like python lab7.py [len_s] [n]')
        exit(0)

    print(*[string_generation() for i in range(int(sys.argv[2]))], sep='\n')
```

## Тестирование

```
C:\Users\Aleksey\Desktop>python hello.py 5 6
";z1w
f]c^K
xSjF?
e$/1+
7Ly``
y`n8s

C:\Users\Aleksey\Desktop>python C:\Users\Aleksey\Desktop\hello.py
Please, call me like python lab7.py [len_s] [n]
```

## Задание 4

Для реализации мемоизации функции с переменным числом параметров будем использовать 
тип данных ```dict``` (ассоциативный массив), в котором как ключ будет выступать 
тип ```tuple``` (собственно параметры нашей функции),
а как значение - значение нашей функции.

## Реализация
```python
def mem(func, *args):
    if not args in d:
        d[args] = func(args)
    return d[args]

def f(*args):
    print("I'm counting....")
    return sum(list(args[0]))

d = dict()
print(mem(f, 1, 3))
print(mem(f, 1, 2))
print(mem(f, 1, 3))
print(mem(f, 1, 3))
print(mem(f, 1, 3))
print(mem(f, 1, 3))
print(mem(f, 1, 3))
print(mem(f, 1, 3))
print(mem(f, 1, 3))
print(mem(f, 1, 3))
```

## Вывод программы
```
I'm counting....
4
I'm counting....
3
4
4
4
4
4
4
4
4
```

# Вывод
Я получил навыки работы со скриптовым языком Python, а также
написал предложенные сценарии на Bash.
