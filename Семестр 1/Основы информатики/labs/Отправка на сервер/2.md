% Лабораторная работа № 2. Рекурсия, процедуры высшего порядка, обработка списков
% 15 января 2023 г.
% Алексей Лисов, ИУ9-11Б

# Цель работы
Приобретение навыков работы с основами программирования на языке Scheme: использование рекурсии, процедур высшего порядка, списков.

# Реализация

### Задание 1
```scheme
(define (count x xs)
  (if (null? xs)
      0
      (if (equal? x (car xs))
          (+ 1 (count x (cdr xs)))
          (count x (cdr xs)))))
```
### Задание 2
```scheme
(define (delete pred? xs)
        (if (null? xs)
            '()
            (if (pred? (car xs))
                (delete pred? (cdr xs))
                (cons (car xs) (delete pred? (cdr xs))))))
```
### Задание 3
```scheme
(define (iterate f x n)
  (if (= n 0)
      '()
      (iterate-lst f (list x) n)))

(define (iterate-lst f x n)
  (if (= n 1)
      x
      (iterate-lst f (cons (car x) (map f x)) (- n 1))))
```
### Задание 4
```scheme
(define (interprise e xs)
  (if (<= (length xs) 1)
      xs
      (cons (car xs) (cons e (interprise e (cdr xs))))))
```

### Задание 5
```scheme
(define (include x xs)
  (and (not (null? xs))
       (or (equal? (car xs) x)
           (include x (cdr xs)))))

(define (any? pred? xs)
  (include #t (map pred? xs)))

(define (all? pred? xs)
  (not (include #f (map pred? xs))))
```

### Задание 6
```scheme
(define (o . fs)
  (if (null? fs)
      (lambda (x) x)
      (lambda (x) ((car fs) ((apply o (cdr fs)) x)))))

(define (f x) (+ x 2))
(define (g x) (* x 3))
(define (h x) (- x))
```

# Тестирование

```
> (count 'a '(a b c a))
2
> (count 'b '(a c d))
0
> (delete even? '(0 1 2 3))
(1 3)
> (iterate (lambda (x) (* 2 x)) 1 6)
(1 2 4 8 16 32)
> (iterate (lambda (x) (* 2 x)) 1 0)
()
> (interprise 'x '(1 2 3 4))
(1 x 2 x 3 x 4)
> (any? odd? '(1 3 5 7))
#t
> (all? odd? '(1 3 5 7))
#t
> (all? odd? '())
#t
> ((o f g h) 1)
-1
> ((o h) 1)
-1
```

# Вывод
Приобрел навыки работы с основами программирования на языке Scheme: использование рекурсии, процедур высшего порядка, списков.
